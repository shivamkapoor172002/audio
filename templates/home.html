{% extends "layout.html" %}

{% block styles %}
<style>
    /* ============================================
       HOME PAGE STYLES
       ============================================ */

    /* Hero Immersive */
    .hero-immersive {
        position: relative;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .hero-slider {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .hero-slide {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        opacity: 0;
        transform: scale(1);
        transition: opacity 1.5s ease-in-out, transform 8s linear;
    }

    .hero-slide.active {
        opacity: 1;
        transform: scale(1.1);
    }

    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(2, 35, 80, 0.60) 0%, rgba(2, 35, 80, 0.45) 100%);
        z-index: 1;
    }

    .hero-center-content {
        position: relative;
        z-index: 2;
        text-align: center;
        max-width: 1000px;
        padding: 120px 40px 0 40px;
        /* Reduced top padding to bring it closer to navbar */
        margin-top: 0;
        /* Slight upward shift for better balance */
    }

    .hero-headline {
        font-family: var(--font-heading);
        font-size: 4.5rem;
        font-weight: 700;
        color: var(--cream-light);
        line-height: 1.1;
        margin-bottom: 25px;
        letter-spacing: -1px;
    }

    .gold-text {
        color: var(--gold-accent);
    }

    .hero-subtext {
        font-size: 1.15rem;
        color: rgba(235, 226, 205, 0.85);
        max-width: 600px;
        margin: 0 auto 40px auto;
        line-height: 1.7;
    }

    .hero-stats-inline {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 40px;
        margin-bottom: 40px;
    }

    .stat-block {
        text-align: center;
    }

    .stat-num {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--gold-accent);
    }

    .stat-suffix {
        font-size: 1.5rem;
        color: var(--gold-accent);
    }

    .stat-desc {
        display: block;
        font-size: 0.85rem;
        color: rgba(235, 226, 205, 0.7);
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-top: 5px;
    }

    .stat-divider-line {
        width: 1px;
        height: 50px;
        background: rgba(196, 160, 82, 0.3);
    }

    .hero-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .btn-gold {
        display: inline-block;
        padding: 14px 32px;
        background: var(--gold-accent);
        color: var(--navy-deep);
        font-weight: 600;
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
    }

    .btn-gold:hover {
        background: #d4b062;
        transform: translateY(-2px);
    }

    .btn-outline-light {
        display: inline-block;
        padding: 14px 32px;
        background: transparent;
        color: var(--cream-light);
        font-weight: 600;
        text-decoration: none;
        border: 2px solid var(--cream-light);
        border-radius: 4px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
    }

    .btn-outline-light:hover {
        background: var(--cream-light);
        color: var(--navy-deep);
    }

    .scroll-indicator {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 2;
        text-align: center;
        color: rgba(235, 226, 205, 0.6);
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 2px;
    }

    .scroll-line {
        width: 1px;
        height: 40px;
        background: rgba(196, 160, 82, 0.5);
        margin: 10px auto 0;
        animation: scrollPulse 2s ease-in-out infinite;
    }

    @keyframes scrollPulse {

        0%,
        100% {
            opacity: 0.3;
        }

        50% {
            opacity: 1;
        }
    }

    /* About Split Section */
    .about-split {
        display: flex;
        min-height: 80vh;
        background: var(--cream-light);
    }

    .about-visual {
        flex: 1;
        position: relative;
        overflow: hidden;
    }

    .image-stack {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .stack-img {
        position: absolute;
        object-fit: cover;
    }

    .stack-img.main {
        width: 80%;
        height: 70%;
        top: 10%;
        left: 5%;
        z-index: 1;
        border-radius: 8px;
    }

    .stack-img.overlay {
        width: 50%;
        height: 50%;
        bottom: 5%;
        right: 5%;
        z-index: 2;
        border-radius: 8px;
        border: 4px solid var(--cream-light);
    }

    .about-text-block {
        flex: 1;
        padding: 80px 60px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .section-label {
        display: inline-block;
        font-size: 1.8rem;
        color: var(--gold-accent);
        text-transform: uppercase;
        letter-spacing: 3px;
        margin-bottom: 15px;
        font-weight: 600;
    }

    .section-label.light {
        color: var(--gold-accent);
    }

    .section-heading {
        font-family: var(--font-heading);
        font-size: 2.8rem;
        color: var(--navy-deep);
        line-height: 1.2;
        margin-bottom: 25px;
    }

    .section-heading.center {
        text-align: center;
    }

    .about-description {
        font-size: 1.05rem;
        color: #444;
        line-height: 1.8;
        margin-bottom: 20px;
    }

    .result-highlight {
        display: flex;
        gap: 15px;
        background: var(--navy-deep);
        color: var(--cream-light);
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
    }

    .result-icon {
        font-size: 1.5rem;
        color: var(--gold-accent);
    }

    .result-content {
        font-size: 0.95rem;
        line-height: 1.6;
    }

    .text-link {
        color: var(--gold-accent);
        font-weight: 600;
        text-decoration: none;
        transition: color 0.3s;
    }

    .text-link:hover {
        color: #d4b062;
    }

    /* Founder Showcase */
    .founder-showcase {
        background: var(--navy-deep);
        padding: 80px 0;
    }

    .founder-card {
        display: flex;
        gap: 60px;
        align-items: center;
        max-width: 1000px;
        margin: 0 auto;
    }

    .founder-photo {
        flex: 0 0 300px;
    }

    .founder-photo img {
        width: 100%;
        border-radius: 8px;
        border: 4px solid var(--gold-accent);
    }

    .founder-info {
        flex: 1;
    }

    .founder-name {
        font-family: var(--font-heading);
        font-size: 2.2rem;
        color: var(--cream-light);
        margin-bottom: 5px;
    }

    .founder-role {
        color: var(--gold-accent);
        font-size: 1rem;
        margin-bottom: 25px;
    }

    .founder-bio {
        color: rgba(235, 226, 205, 0.8);
        font-size: 1rem;
        line-height: 1.7;
        margin-bottom: 15px;
    }

    /* Services Showcase */
    .services-showcase {
        background: var(--cream-light);
        padding: 80px 0;
    }

    .section-intro {
        text-align: center;
        margin-bottom: 50px;
    }

    .section-subtext {
        font-size: 1.1rem;
        color: #666;
        font-style: italic;
    }

    .services-cards {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
        max-width: 1100px;
        margin: 0 auto;
    }

    .service-tile {
        position: relative;
        height: 300px;
        background-size: cover;
        background-position: center;
        border-radius: 8px;
        overflow: hidden;
    }

    .tile-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(to top, rgba(2, 35, 80, 0.9) 0%, rgba(2, 35, 80, 0.3) 100%);
    }

    .tile-content {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 30px;
        color: var(--cream-light);
    }

    .tile-content h3 {
        font-family: var(--font-heading);
        font-size: 1.4rem;
        margin-bottom: 10px;
    }

    .tile-content p {
        font-size: 0.9rem;
        opacity: 0.85;
        line-height: 1.6;
    }

    .services-cta {
        text-align: center;
        margin-top: 40px;
    }

    .btn-dark {
        display: inline-block;
        padding: 14px 32px;
        background: var(--navy-deep);
        color: var(--cream-light);
        font-weight: 600;
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.9rem;
    }

    .btn-dark:hover {
        background: #03305a;
    }

    /* Portfolio Highlights - Scroll-Driven Horizontal Carousel */
    .portfolio-highlights {
        background: #f5f2eb;
        padding: 0;
        position: relative;
    }

    .portfolio-scroll-spacer {
        height: 80vh;
        position: relative;
    }

    .portfolio-sticky {
        position: sticky;
        top: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        overflow: hidden;
    }

    .portfolio-header {
        text-align: center;
        padding: 30px 20px 20px;
    }

    .scroll-track-wrapper {
        overflow: hidden;
        padding: 20px 0 40px;
        position: relative;
        cursor: grab;
        user-select: none;
        touch-action: pan-y;
    }

    .scroll-track-wrapper:active {
        cursor: grabbing;
    }

    .sector-grid {
        display: flex;
        gap: 30px;
        padding: 0 0;
        will-change: transform;
        /* createHardwareAcceleratedLayer */
        transform: translate3d(0, 0, 0);
    }

    .sector-item {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.4s ease, box-shadow 0.4s ease;
        flex-shrink: 0;
        width: 320px;
    }

    .sector-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
    }

    .sector-image {
        position: relative;
        width: 100%;
        height: 220px;
        overflow: hidden;
    }

    .sector-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .sector-item:hover .sector-image img {
        transform: scale(1.08);
    }

    .sector-details {
        padding: 20px;
    }

    .sector-details h4 {
        font-family: var(--font-heading);
        font-size: 1.2rem;
        color: var(--navy-deep);
        margin-bottom: 8px;
    }

    .sector-details p {
        font-size: 0.9rem;
        color: #666;
        line-height: 1.5;
    }

    .portfolio-cta {
        text-align: center;
        margin-top: 40px;
    }

    /* Advantage Premium */
    .advantage-premium {
        background: var(--navy-deep);
        padding: 80px 0;
    }

    .advantage-header {
        text-align: center;
        margin-bottom: 50px;
    }

    .advantage-title {
        font-family: var(--font-heading);
        font-size: 2.5rem;
        color: var(--navy-deep);
    }

    .advantage-columns {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 60px;
        max-width: 1100px;
        margin: 0 auto;
    }

    .advantage-col {
        padding: 40px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
    }

    .col-title {
        font-family: var(--font-heading);
        font-size: 1.4rem;
        color: var(--cream-light);
        margin-bottom: 30px;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .col-number {
        font-size: 0.9rem;
        color: var(--gold-accent);
        border: 1px solid var(--gold-accent);
        padding: 5px 10px;
        border-radius: 4px;
    }

    .advantage-items {
        display: flex;
        flex-direction: column;
        gap: 25px;
    }

    .adv-item {
        display: flex;
        gap: 15px;
        align-items: flex-start;
    }

    .adv-item-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
    }

    .adv-item-text h4 {
        font-size: 1rem;
        color: var(--cream-light);
        margin-bottom: 5px;
    }

    .adv-item-text p {
        font-size: 0.9rem;
        color: rgba(235, 226, 205, 0.7);
        line-height: 1.5;
    }

    .benefit-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-bottom: 30px;
    }

    .benefit-item {
        display: flex;
        gap: 15px;
        align-items: flex-start;
    }

    .benefit-check {
        color: var(--gold-accent);
        font-size: 1.2rem;
    }

    .benefit-item p {
        color: rgba(235, 226, 205, 0.85);
        font-size: 0.95rem;
        line-height: 1.5;
    }

    .btn-gold-adv {
        display: inline-block;
        padding: 14px 28px;
        background: var(--gold-accent);
        color: var(--navy-deep);
        font-weight: 600;
        text-decoration: none;
        border-radius: 4px;
        transition: all 0.3s ease;
    }

    .btn-gold-adv:hover {
        background: #d4b062;
    }

    /* CTA Banner */
    .cta-banner {
        background: linear-gradient(135deg, var(--gold-accent) 0%, #d4b062 100%);
        padding: 60px 0;
        text-align: center;
    }

    .cta-content h2 {
        font-family: var(--font-heading);
        font-size: 2.2rem;
        color: var(--navy-deep);
        margin-bottom: 10px;
    }

    .cta-content p {
        font-size: 1.1rem;
        color: var(--navy-deep);
        opacity: 0.8;
        margin-bottom: 25px;
    }

    .cta-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .cta-buttons .btn-gold {
        background: var(--navy-deep);
        color: var(--cream-light);
    }

    .cta-buttons .btn-gold:hover {
        background: #03305a;
    }

    .cta-buttons .btn-outline-light {
        border-color: var(--navy-deep);
        color: var(--navy-deep);
    }

    .cta-buttons .btn-outline-light:hover {
        background: var(--navy-deep);
        color: var(--cream-light);
    }

    /* Responsive Design - Mobile First Approach */

    /* 14 and 15-inch Laptops (1366px-1536px) */
    @media (max-width: 1536px) {
        .hero-headline {
            font-size: 3.8rem;
        }

        .hero-center-content {
            max-width: 900px;
        }

        .advantage-central-layout {
            grid-template-columns: 1fr 320px 1fr;
            max-width: 1100px;
            gap: 30px;
        }

        .image-placeholder-circle {
            width: 320px;
            height: 320px;
        }
    }

    @media (max-width: 1366px) {
        .hero-headline {
            font-size: 3.2rem;
        }

        .hero-subtext {
            font-size: 1rem;
        }

        .hero-center-content {
            padding-top: 10px;
        }

        .image-placeholder-circle {
            width: 280px;
            height: 280px;
        }

        .point-content h4 {
            font-size: 1.1rem;
        }

        .point-content p {
            font-size: 0.95rem;
        }
    }

    /* Tablets & Small Laptops (992px and below) */
    @media (max-width: 992px) {
        .hero-headline {
            font-size: 3rem;
        }

        .about-split {
            flex-direction: column;
        }

        .about-visual {
            min-height: 400px;
        }

        .founder-card {
            flex-direction: column;
            text-align: center;
        }

        .services-cards {
            grid-template-columns: 1fr;
        }

        .advantage-columns {
            grid-template-columns: 1fr;
        }

        /* Advantage Section - Stack Vertically */
        .advantage-central-layout {
            grid-template-columns: 1fr;
            gap: 40px;
        }

        .adv-side-col {
            order: 2;
        }

        .adv-center-col {
            order: 1;
        }

        .left-col {
            order: 3;
        }

        .image-placeholder-circle {
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }

        .adv-point {
            justify-content: flex-start;
        }
    }

    /* Mobile Devices (768px and below) */
    @media (max-width: 768px) {
        .hero-immersive {
            padding-top: 80px;
            min-height: 70vh;
        }

        .hero-headline {
            font-size: 2.5rem;
            padding: 0 20px;
        }

        .hero-subtext {
            font-size: 1rem;
            padding: 0 20px;
        }

        .hero-stats-inline {
            flex-direction: column;
            gap: 20px;
        }

        .stat-divider-line {
            width: 50px;
            height: 1px;
        }

        .section-heading {
            font-size: 2rem;
        }

        .section-label {
            font-size: 1.2rem;
        }

        .advantage-premium {
            padding: 60px 0;
        }

        .advantage-header {
            margin-bottom: 40px;
        }

        .image-placeholder-circle {
            width: 250px;
            height: 250px;
            max-width: none;
        }

        .adv-center-col {
            overflow: hidden;
            padding: 0 10px;
        }

        .point-content h4 {
            font-size: 1.1rem;
        }

        .point-content p {
            font-size: 0.95rem;
        }

        .container {
            padding: 0 20px;
        }
    }

    /* Small Mobile Devices (480px and below) */
    @media (max-width: 480px) {
        .hero-immersive {
            padding-top: 100px;
            min-height: 65vh;
        }

        .hero-headline {
            font-size: 2rem;
        }

        .section-heading {
            font-size: 1.75rem;
        }

        .section-label {
            font-size: 1rem;
        }

        .image-placeholder-circle {
            width: 200px;
            height: 200px;
            max-width: none;
        }

        .adv-center-col {
            overflow: hidden;
            padding: 0 5px;
        }

        .point-content h4 {
            font-size: 1rem;
        }

        .point-content p {
            font-size: 0.9rem;
        }

        .advantage-premium {
            padding: 40px 0;
        }

        .btn-corporate {
            padding: 12px 24px;
            font-size: 0.85rem;
        }

        .hero-actions {
            flex-direction: column;
            width: 100%;
            padding: 0 20px;
        }

        .btn-gold,
        .btn-outline-light {
            width: 100%;
            text-align: center;
        }
    }
</style>
<script>
    /* Carousel Navigation Script */
    document.addEventListener("DOMContentLoaded", function () {
        /* Generic Carousel Nav Logic */
        const setupCarouselNav = (container) => {
            const nextBtn = container.querySelector('.carousel-next');
            const prevBtn = container.querySelector('.carousel-prev');
            if (!nextBtn || !prevBtn) return;

            // Get slides
            // For Hero: .hero-slide; For Sector: .sector-slide
            let slides = container.querySelectorAll('.sector-slide');
            if (slides.length === 0) slides = container.querySelectorAll('.hero-slide');
            if (slides.length < 2) return;

            let currentIndex = 0;
            // Find current active
            slides.forEach((s, i) => {
                if (s.classList.contains('active')) currentIndex = i;
            });

            const showSlide = (index) => {
                slides.forEach(s => s.classList.remove('active'));
                slides[index].classList.add('active');
            };

            const nextSlide = () => {
                currentIndex = (currentIndex + 1) % slides.length;
                showSlide(currentIndex);
            };

            const prevSlide = () => {
                currentIndex = (currentIndex - 1 + slides.length) % slides.length;
                showSlide(currentIndex);
            };

            nextBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation(); // Prevent bubbling if needed
                nextSlide();
                // Optional: Reset auto-scroll interval if we had access to it, 
                // but local scope specific interval is hard to reach here. 
                // We'll just let it slide manually.
            });

            prevBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                prevSlide();
            });
        };

        // Initialize for Sector Carousels
        document.querySelectorAll('.sector-carousel').forEach(setupCarouselNav);

        // Initialize for Hero (if we added arrows there)
        const heroSection = document.querySelector('.hero-immersive');
        if (heroSection) setupCarouselNav(heroSection);
    });
</script>
{% endblock %}

{% block content %}

<!-- ===============================================
     EMBEDDED STYLES - SMOOTH SCROLL ANIMATIONS
     =============================================== -->
<style>
    /* Base Animation Classes */
    .about-visual {
        opacity: 0;
        transform: translateX(-50px) scale(0.95);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .about-visual.visible {
        opacity: 1;
        transform: translateX(0) scale(1);
    }

    .about-text-block {
        opacity: 0;
        transform: translateX(50px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.2s;
    }

    .about-text-block.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .image-stack:hover {
        transform: scale(1.02);
    }

    .stack-img.overlay {
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .image-stack:hover .stack-img.overlay {
        transform: translate(10px, -10px);
    }

    .founder-card {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .founder-card.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .founder-photo img {
        transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .founder-card:hover .founder-photo img {
        transform: scale(1.05);
    }

    .service-tile {
        opacity: 0;
        transform: translateY(40px) scale(0.95);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .service-tile.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .service-tile:hover {
        transform: translateY(-10px) scale(1.02);
    }

    .service-tile:hover .tile-overlay {
        background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.3) 100%);
    }

    .service-tile:nth-child(1) {
        transition-delay: 0.1s;
    }

    .service-tile:nth-child(2) {
        transition-delay: 0.2s;
    }

    .service-tile:nth-child(3) {
        transition-delay: 0.3s;
    }

    .service-tile:nth-child(4) {
        transition-delay: 0.4s;
    }

    .sector-item {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .sector-item.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .sector-item:nth-child(1) {
        transition-delay: 0.1s;
    }

    .sector-item:nth-child(2) {
        transition-delay: 0.2s;
    }

    .sector-item:nth-child(3) {
        transition-delay: 0.3s;
    }

    .sector-item:nth-child(4) {
        transition-delay: 0.4s;
    }

    .sector-item:nth-child(5) {
        transition-delay: 0.5s;
    }

    .sector-image img {
        transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .sector-item:hover .sector-image img {
        transform: scale(1.1);
    }

    .advantage-header {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .advantage-header.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .advantage-col {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .advantage-col.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .advantage-col:first-child {
        transition-delay: 0.2s;
    }

    .advantage-col:last-child {
        transition-delay: 0.4s;
    }

    .cta-content {
        opacity: 0;
        transform: translateY(40px) scale(0.95);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .cta-content.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .section-intro {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .section-intro.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .btn-gold:hover,
    .btn-dark:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    .btn-outline-light:hover {
        transform: translateY(-2px);
    }
</style>

<!-- Hero Section - Full Width Immersive -->
<section class="hero-immersive">
    <div class="hero-overlay"></div>
    <div class="hero-slider">
        <div class="hero-slide active"
            style="background-image: url('{{ url_for('static', filename='images/Convention_Centres.jpeg') }}');"></div>
        <div class="hero-slide"
            style="background-image: url('{{ url_for('static', filename='images/Public_Infrastructure.jpeg') }}');">
        </div>
        <div class="hero-slide"
            style="background-image: url('{{ url_for('static', filename='images/gujarat-science-city.jpg') }}');"></div>
        <div class="hero-slide"
            style="background-image: url('{{ url_for('static', filename='images/Places_of_Worship.jpeg') }}');"></div>
    </div>

    <div class="hero-center-content">
        <h1 class="hero-headline">Experiences,<br><span class="gold-text">Amplified.</span></h1>
        <h2
            style="color: #fff; font-size: 1.4rem; font-weight: 400; letter-spacing: 1px; margin-top: 10px; font-family: var(--font-heading);">
            Independent AV, Acoustics, Lighting &amp; ICT Consultancy</h2>
        <p class="hero-subtext" style="margin-top: 15px;">Vendor-neutral system design for complex government,
            institutional and architectural environments.</p>
        <p class="hero-subtext" style="font-size: 0.95rem; margin-top: 10px; max-width: 700px; opacity: 0.85;">
            Audionix Engineers LLP is an independent consultancy specializing in professional AV, Acoustics, Lighting
            and Information &amp; Communication Technology system design. We support architects, institutions and
            project stakeholders in translating design intent into technically robust, practical and future-ready
            technology solutions.
        </p>

        <div class="hero-stats-inline">
            <div class="stat-block">
                <span class="stat-num" data-target="10">0</span><span class="stat-suffix">+</span>
                <span class="stat-desc">Years</span>
            </div>
            <div class="stat-divider-line"></div>
            <div class="stat-block">
                <span class="stat-num" data-target="150">0</span><span class="stat-suffix">+</span>
                <span class="stat-desc">Projects</span>
            </div>
            <div class="stat-divider-line"></div>
            <div class="stat-block">
                <span class="stat-num" data-target="30">0</span><span class="stat-suffix">+</span>
                <span class="stat-desc">Cities</span>
            </div>
        </div>

        <div class="hero-actions">
            <a href="/contact" class="btn-gold">Discuss Your Project</a>
            <a href="/services" class="btn-outline-light">View Our Expertise</a>
        </div>
    </div>

    <div class="scroll-indicator">
        <span>Scroll</span>
        <div class="scroll-line"></div>
    </div>
</section>

<!-- About Section - Modern Split -->
<section class="about-split">
    <div class="about-visual">
        <div class="image-stack">
            <img src="{{ url_for('static', filename='images/Auditorium.jpg') }}" alt="Auditorium"
                class="stack-img main">
            <img src="{{ url_for('static', filename='images/speakers_with_screen.jpg') }}" alt="AV Installation"
                class="stack-img overlay">
        </div>
    </div>
    <div class="about-text-block">
        <span class="section-label">Who We Are</span>
        <h2 class="section-heading">Bridging Vision<br>with Technology</h2>
        <p class="about-description">
            <strong>Audionix Engineers LLP</strong> is an independent consulting practice delivering professional AV,
            acoustics, lighting and ICT system design for mission-critical and large-format environments across India.
        </p>
        <p class="about-description">
            With extensive on-site experience and a vendor-neutral approach, we bridge the gap between architectural
            vision, technical performance and real-world execution. Our focus is on delivering solutions that are
            technically sound, operationally practical and sustainable throughout their lifecycle.
        </p>
        <a href="/about" class="text-link">Learn more about us â†’</a>
    </div>
</section>

<!-- Services Section - Card Grid -->
<section class="services-showcase">
    <div class="container">
        <div class="section-intro">
            <span class="section-label">What We Do</span>
            <h2 class="section-heading center">Our Services</h2>
            <p class="section-subtext">Where sound, sight and experience converge.</p>
        </div>

        <div class="services-cards">
            <div class="service-tile"
                style="background-image: url('{{ url_for('static', filename='images/speakers_with_screen.jpg') }}');">
                <div class="tile-overlay"></div>
                <div class="tile-content">
                    <h3>AV System Design & Consulting</h3>
                    <p>End-to-end design for auditoriums, boardrooms, convention centres. From schematics to
                        tender-ready documents.</p>
                </div>
            </div>

            <div class="service-tile"
                style="background-image: url('{{ url_for('static', filename='images/Auditorium.jpg') }}');">
                <div class="tile-overlay"></div>
                <div class="tile-content">
                    <h3>Room Acoustics</h3>
                    <p>Acoustic planning including analysis, material selection and layout optimisation for crisp speech
                        clarity.</p>
                </div>
            </div>

            <div class="service-tile"
                style="background-image: url('{{ url_for('static', filename='images/a_image_stage_spotlight.jpg') }}');">
                <div class="tile-overlay"></div>
                <div class="tile-content">
                    <h3>Architectural & Stage Lighting</h3>
                    <p>Lighting solutions that elevate function and ambience with focus on comfort, visibility and
                        efficiency.</p>
                </div>
            </div>

            <div class="service-tile"
                style="background-image: url('{{ url_for('static', filename='images/a_tree_in_hand_with_some_coins_in_side.jpg') }}');">
                <div class="tile-overlay"></div>
                <div class="tile-content">
                    <h3>Technical Review & Value Engineering</h3>
                    <p>Independent audits to ensure accuracy. We identify gaps and strengthen system designs.</p>
                </div>
            </div>
        </div>

        <div class="services-cta">
            <a href="/services" class="btn-dark">View All Services</a>
        </div>
    </div>
</section>

<!-- Portfolio Highlights - Scroll-Driven Horizontal Carousel -->
<section class="portfolio-highlights" id="portfolio-section">
    <div class="portfolio-scroll-spacer" style="height: auto;">
        <div class="portfolio-sticky">
            <div class="portfolio-header">
                <span class="section-label">Sectors / Experience</span>
                <h2 class="section-heading center">Sectors We Serve</h2>
                <p class="section-subtext">From mission-critical facilities to immersive public spaces.</p>
            </div>

            <div class="scroll-track-wrapper">
                <div class="sector-grid" id="sector-track">

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/Convention_Centres.jpeg') }}"
                                alt="Convention Centres">
                        </div>
                        <div class="sector-details">
                            <h4>Convention Centres</h4>
                            <p>Scalable AV, acoustics and lighting systems designed for multi-format events, conferences
                                and cultural performances.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/Public_Infrastructure.jpeg') }}"
                                alt="Public Infrastructure">
                        </div>
                        <div class="sector-details">
                            <h4>Public Infrastructure</h4>
                            <p>High-reliability technology systems for civic environments requiring performance
                                consistency and long-term serviceability.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/judiciary.png') }}" alt="Judiciary">
                        </div>
                        <div class="sector-details">
                            <h4>Judiciary</h4>
                            <p>Precision-designed speech environments supporting clarity, authority and seamless
                                proceedings in acoustically critical spaces.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/iitd.jpg') }}" alt="Education">
                        </div>
                        <div class="sector-details">
                            <h4>Education</h4>
                            <p>Future-ready AV ecosystems for lecture halls, hybrid learning and large academic events,
                                designed to grow with institutional needs.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/gujarat-science-city.jpg') }}"
                                alt="Experience Centres & Museums">
                        </div>
                        <div class="sector-details">
                            <h4>Experience Centres & Museums</h4>
                            <p>Immersive multimedia, lighting and AV systems that enhance storytelling and visitor
                                engagement across cultural spaces.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/board.png') }}" alt="Corporate & Boardroom">
                        </div>
                        <div class="sector-details">
                            <h4>Corporate & Boardroom</h4>
                            <p>Integrated AV and collaboration systems for meeting rooms, executive boardrooms and
                                command centres.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/audi.png') }}"
                                alt="Auditoriums & Performing Arts">
                        </div>
                        <div class="sector-details">
                            <h4>Auditoriums & Performing Arts</h4>
                            <p>Comprehensive AV, acoustics and stage lighting design supporting speech, music and large
                                audience experiences.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/smart.jpeg') }}" alt="Smart Cities & Urban">
                        </div>
                        <div class="sector-details">
                            <h4>Smart Cities & Urban</h4>
                            <p>Public address networks, multimedia displays and integrated communication systems for
                                large urban environments.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/Ganga-Ghat.jpg') }}"
                                alt="Places of Worship & Heritage">
                        </div>
                        <div class="sector-details">
                            <h4>Places of Worship & Heritage</h4>
                            <p>Sensitive AV and acoustic solutions that respect architectural heritage while ensuring
                                clear communication.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/bnajara.jpeg') }}"
                                alt="Government & Institutional">
                        </div>
                        <div class="sector-details">
                            <h4>Government & Institutional</h4>
                            <p>Secure, performance-driven AV systems for administrative buildings and official venues
                                requiring reliability.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/stad.png') }}"
                                alt="Stadiums & Large Venues">
                        </div>
                        <div class="sector-details">
                            <h4>Stadiums & Large Venues</h4>
                            <p>Distributed audio, display and control systems designed for high-capacity environments
                                and complex operations.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/iitjodhpur.jpeg') }}"
                                alt="Research & Training">
                        </div>
                        <div class="sector-details">
                            <h4>Research & Training</h4>
                            <p>Specialized AV and communication systems supporting simulation rooms, training centres
                                and technical learning.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/control.png') }}"
                                alt="Command & Control Rooms">
                        </div>
                        <div class="sector-details">
                            <h4>Command & Control Rooms</h4>
                            <p>Mission-critical AV and visualization systems designed for monitoring, coordination and
                                operational continuity.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/hospi.jpg') }}" alt="Hospitality">
                        </div>
                        <div class="sector-details">
                            <h4>Hospitality (Hotels & Resorts)</h4>
                            <p>Integrated AV, acoustics and lighting design for ballrooms, conference spaces and public
                                areas.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/retail_mob.jpg') }}" alt="Retail Chains">
                        </div>
                        <div class="sector-details">
                            <h4>Retail Chains</h4>
                            <p>Scalable background music, digital display and control infrastructure supporting brand
                                identity and engagement.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/shop.png') }}" alt="Shopping Malls">
                        </div>
                        <div class="sector-details">
                            <h4>Shopping Malls & Complexes</h4>
                            <p>Public address, ambient audio, digital signage and multimedia systems for large
                                circulation areas.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/club.png') }}" alt="Clubs & Lounges">
                        </div>
                        <div class="sector-details">
                            <h4>Clubs & Lounges</h4>
                            <p>Performance-driven sound, lighting and multimedia integration for high-energy
                                environments.</p>
                        </div>
                    </div>

                    <div class="sector-item">
                        <div class="sector-image">
                            <img src="{{ url_for('static', filename='images/cine.png') }}" alt="Cinema Halls">
                        </div>
                        <div class="sector-details">
                            <h4>Cinema Halls</h4>
                            <p>Specialized AV, acoustic and lighting system design focused on sound accuracy and
                                audience immersion.</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>

<!-- Advantage Section - Central Image Radiation Layout -->
<section class="advantage-premium">
    <div class="container">
        <div class="advantage-header">
            <span class="section-label light">Why Choose Us</span>
            <h2 class="advantage-title">The Audionix Advantage</h2>
            <div class="header-line"></div>
        </div>

        <div class="advantage-central-layout">

            <!-- LEFT COLUMN (1-4) -->
            <div class="adv-side-col left-col">
                <div class="adv-point">
                    <div class="point-content">
                        <h4>Seamless Collaboration</h4>
                        <p>We work smoothly with architects, PMCs, MEP, IT, and contractors.</p>
                    </div>
                    <div class="point-marker"></div>
                </div>

                <div class="adv-point">
                    <div class="point-content">
                        <h4>True End-to-End Ownership</h4>
                        <p>From requirement analysis to BoQs, drawings, tuning, and site reviews.</p>
                    </div>
                    <div class="point-marker"></div>
                </div>

                <div class="adv-point">
                    <div class="point-content">
                        <h4>Needs-First Thinking</h4>
                        <p>We begin with your functional, architectural, and operational requirements.</p>
                    </div>
                    <div class="point-marker"></div>
                </div>


            </div>

            <!-- CENTER COLUMN (Image Placeholder) -->
            <div class="adv-center-col">
                <div class="image-placeholder-circle no-border">
                    <img src="{{ url_for('static', filename='images/advantage_center_v3.jpeg') }}"
                        alt="Audionix Advantage" class="center-advantage-img">
                    <div class="pulse-ring"></div>
                </div>
            </div>

            <!-- RIGHT COLUMN (5-8) -->
            <div class="adv-side-col right-col">
                <div class="adv-point">
                    <div class="point-marker"></div>
                    <div class="point-content">
                        <h4>Vendor-Neutral Design</h4>
                        <p>Clear, unbiased AV, acoustic, and lighting designs tailored to your needs.</p>
                    </div>
                </div>

                <div class="adv-point">
                    <div class="point-marker"></div>
                    <div class="point-content">
                        <h4>Value Engineering</h4>
                        <p>Lower risk of over-engineering or under-specification for cost efficiency.</p>
                    </div>
                </div>

                <div class="adv-point">
                    <div class="point-marker"></div>
                    <div class="point-content">
                        <h4>Operational Ease</h4>
                        <p>Systems engineered for ease of operation, maintenance and future scalability.</p>
                    </div>
                </div>


            </div>

        </div>

        <div class="advantage-footer-cta">
            <a href="/contact" class="btn-corporate">
                Start Your Project
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" class="arrow-icon">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            </a>
        </div>
    </div>
</section>

<style>
    /* Scoped Styles for Central Layout */
    .advantage-premium {
        background: #f5f2eb;
        /* Cream light to match above */
        padding: 100px 0;
        color: var(--navy-deep);
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
    }

    .advantage-header {
        text-align: center;
        margin-bottom: 60px;
    }

    .header-line {
        width: 60px;
        height: 3px;
        background: var(--gold-accent);
        margin: 20px auto 0;
    }

    .advantage-central-layout {
        display: grid;
        grid-template-columns: 1fr 450px 1fr;
        /* 3 Columns: Left, Imagewidth, Right */
        gap: 40px;
        max-width: 1400px;
        margin: 0 auto;
        align-items: center;
    }

    /* Column Specifics */
    .adv-side-col {
        display: flex;
        flex-direction: column;
        gap: 50px;
    }

    .adv-side-col.left-col {
        text-align: right;
        align-items: flex-end;
    }

    .adv-side-col.right-col {
        text-align: left;
        align-items: flex-start;
    }

    /* Point Items */
    .adv-point {
        display: flex;
        align-items: center;
        /* Aligns marker with title roughly */
        gap: 20px;
        max-width: 400px;
        transition: transform 0.3s ease;
    }

    .adv-point:hover {
        transform: translateY(-3px);
    }

    .point-content h4 {
        color: var(--navy-deep);
        font-size: 1.4rem;
        /* Increased from 1.1rem (~25% bigger) */
        margin-bottom: 8px;
        font-weight: 600;
    }

    .point-content p {
        color: #555;
        font-size: 1.15rem;
        /* Increased from 0.9rem (~25% bigger) */
        line-height: 1.6;
        margin: 0;
    }

    .point-marker {
        flex-shrink: 0;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--gold-accent);
        /* Simple dot style */
    }

    /* Center Image Placeholder */
    .adv-center-col {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        position: relative;
    }

    .image-placeholder-circle {
        width: 450px;
        height: 450px;
        border-radius: 50%;
        background: transparent;
        box-shadow: none;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 2;
    }

    .image-placeholder-circle.no-border {
        border: none;
    }

    .center-advantage-img {
        width: 90%;
        height: 90%;
        object-fit: contain;
        position: relative;
        z-index: 3;
    }

    .pulse-ring {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 1px solid rgba(196, 160, 82, 0.3);
        animation: pulseRing 3s infinite;
        z-index: 1;
    }

    @keyframes pulseRing {
        0% {
            transform: translate(-50%, -50%) scale(0.8);
            opacity: 0;
        }

        50% {
            opacity: 0.5;
        }

        100% {
            transform: translate(-50%, -50%) scale(1.3);
            opacity: 0;
        }
    }

    .placeholder-text {
        color: rgba(255, 255, 255, 0.3);
        font-size: 0.9rem;
        padding: 20px;
    }

    /* Footer CTA */
    .advantage-footer-cta {
        text-align: center;
        margin-top: 60px;
    }

    .btn-corporate {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 16px 36px;
        background: transparent;
        border: 1px solid var(--gold-accent);
        color: var(--gold-accent);
        font-weight: 500;
        font-size: 0.95rem;
        text-decoration: none;
        letter-spacing: 1px;
        text-transform: uppercase;
        transition: all 0.3s ease;
    }

    .btn-corporate:hover {
        background: rgba(196, 160, 82, 0.1);
        padding-right: 42px;
    }

    .arrow-icon {
        transition: transform 0.3s ease;
    }

    .btn-corporate:hover .arrow-icon {
        transform: translateX(5px);
    }

    @media (max-width: 992px) {
        .advantage-central-layout {
            grid-template-columns: 1fr;
            text-align: left;
            gap: 60px;
        }

        .adv-side-col.left-col {
            text-align: left;
            align-items: flex-start;
        }

        .adv-side-col.left-col .adv-point {
            flex-direction: row-reverse;
            /* Marker on left */
            justify-content: flex-end;
            /* Align to start */
        }

        /* Reset for mobile consistency - markers always on left */
        .adv-point {
            width: 100%;
            max-width: 100%;
            justify-content: flex-start;
        }

        /* Fix order of marker/content for left col on mobile */
        .adv-side-col.left-col .adv-point {
            flex-direction: row;
            /* Standard ordering: Marker -> Content */
        }

        /* Wait, Left Col desktop is Content -> Marker. 
           Mobile should ideally be Marker -> Content for all.
        */

        .adv-side-col.left-col .adv-point .point-marker {
            order: -1;
        }

        .adv-center-col {
            order: -1;
            /* Image on top on mobile? Or hidden? User didn't specify. Keeping in flow or top. */
            margin-bottom: 40px;
        }
    }
</style>

<!-- CTA Section -->
<section class="cta-banner">
    <div class="container">
        <div class="cta-content">
            <h2>Got a project in mind?</h2>
            <p>Let's engineer something exceptional together.</p>
            <div class="cta-buttons">
                <a href="mailto:INFO@AUDIONIXENGINEERS.COM" class="btn-gold">âœ‰ Email Us</a>
                <a href="tel:+919999762624" class="btn-outline-light">ðŸ“ž +91 99997 62624</a>
            </div>
        </div>
    </div>
</section>

<!-- EMBEDDED JAVASCRIPT - SMOOTH ANIMATIONS -->
<script>
    document.addEventListener("DOMContentLoaded", function () {

        /* ================= HERO SLIDER ================= */
        const slides = document.querySelectorAll('.hero-slide');
        let currentSlide = 0;

        if (slides.length > 0) {
            setInterval(() => {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }, 8000);
        }

        /* ============== SECTOR CAROUSEL ================= */
        /* ============== SECTOR CAROUSEL (SYNCHRONIZED) ================= */
        const carousels = document.querySelectorAll('.sector-carousel');

        // Only start if we have carousels
        if (carousels.length > 0) {
            setInterval(() => {
                carousels.forEach((carousel) => {
                    const cSlides = carousel.querySelectorAll('.sector-slide');
                    if (cSlides.length < 2) return;

                    const currentSlide = carousel.querySelector('.sector-slide.active');
                    if (!currentSlide) return; // Safety check

                    const nextSlide = currentSlide.nextElementSibling || cSlides[0];

                    // Remove exit class from all
                    cSlides.forEach(s => s.classList.remove('exit'));

                    // Current slide slides out to the right (or left depending on CSS)
                    currentSlide.classList.remove('active');
                    currentSlide.classList.add('exit');

                    // Next slide slides in
                    nextSlide.classList.add('active');
                });
            }, 5000); // Synchronized 5-second interval for ALL
        }

        /* ================= INTERSECTION OBSERVER FOR SCROLL ANIMATIONS ================= */

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        const animatedElements = document.querySelectorAll(`
        .about-visual,
        .about-text-block,
        .founder-card,
        .service-tile,
        .sector-item,
        .advantage-header,
        .advantage-col,
        .cta-content,
        .section-intro
    `);

        animatedElements.forEach(el => observer.observe(el));

        /* ================= COUNTER ANIMATION ================= */

        function animateCounter(element, target, duration = 4000) {
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current);
            }, 16);
        }

        const statObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const statBlock = entry.target;
                    const statNum = statBlock.querySelector('.stat-num');
                    const target = parseInt(statNum.getAttribute('data-target'));

                    statBlock.classList.add('animate');
                    animateCounter(statNum, target, 4000);

                    statObserver.unobserve(entry.target);
                }
            });
        }, observerOptions);

        const statBlocks = document.querySelectorAll('.stat-block');
        statBlocks.forEach(block => statObserver.observe(block));

        /* ================= PARALLAX EFFECT FOR HERO ================= */

        const heroSection = document.querySelector('.hero-immersive');

        if (heroSection) {
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const heroContent = heroSection.querySelector('.hero-center-content');

                if (heroContent && scrolled < window.innerHeight) {
                    heroContent.style.transform = `translateY(${scrolled * 0.5}px)`;
                    heroContent.style.opacity = 1 - (scrolled / window.innerHeight);
                }
            });
        }

        /* ================= DRAGGABLE INFINITE MARQUEE ================= */

        const track = document.getElementById('sector-track');
        const wrapper = document.querySelector('.scroll-track-wrapper');

        if (track && wrapper) {
            // Configuration
            const speed = 0.5; // Auto-scroll speed
            let position = 0;
            let isDragging = false;
            let startX = 0;
            let currentTranslate = 0;
            let prevTranslate = 0;
            let animationID;
            let startTime = 0;

            // Clone items for infinite loop
            const items = Array.from(track.children);
            items.forEach(item => {
                const clone = item.cloneNode(true);
                track.appendChild(clone);
            });

            // Calculate total width of original set
            // We need to wait for images to load ideally, or just measure
            // Since images have strict dimensions in CSS, this should be fine.
            // But let's recalculate on window load just in case.

            let totalWidth = 0;

            function calculateWidth() {
                const style = window.getComputedStyle(track);
                const gap = parseFloat(style.gap) || 0;
                // Measure one full set width
                // The gap applies between items. length * (width + gap) - gap? 
                // Easier: measure total scrollWidth of cloned track and divide by 2
                // But let's do it safely after layout.
                const firstItem = track.children[0];
                const itemWidth = firstItem.offsetWidth;
                // Gap is 30px from CSS
                totalWidth = (itemWidth + 30) * items.length;
            }

            // Initial calc
            window.addEventListener('load', calculateWidth);
            calculateWidth(); // Try immediately too

            // Animation Loop
            function animate() {
                if (!isDragging) {
                    position -= speed;
                }

                // Infinite Check
                // If we've scrolled past the first set (position <= -totalWidth)
                if (totalWidth > 0 && position <= -totalWidth) {
                    position += totalWidth;
                }
                // If dragging pulled us into positive (position > 0)
                if (position > 0) {
                    position -= totalWidth;
                }

                track.style.transform = `translateX(${position}px)`;
                animationID = requestAnimationFrame(animate);
            }

            // Start Animation
            animationID = requestAnimationFrame(animate);

            // Drag Events
            wrapper.addEventListener('mousedown', startDrag);
            wrapper.addEventListener('touchstart', startDrag);

            wrapper.addEventListener('mouseup', endDrag);
            wrapper.addEventListener('mouseleave', endDrag);
            wrapper.addEventListener('touchend', endDrag);

            wrapper.addEventListener('mousemove', moveDrag);
            wrapper.addEventListener('touchmove', moveDrag);

            function getPositionX(event) {
                return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
            }

            function startDrag(event) {
                // Prevent default drag behavrior on images
                if (event.type === 'mousedown') event.preventDefault();

                isDragging = true;
                startX = getPositionX(event);
                prevTranslate = position;
                wrapper.classList.add('grabbing');
            }

            function moveDrag(event) {
                if (isDragging) {
                    const currentX = getPositionX(event);
                    const diff = currentX - startX;
                    position = prevTranslate + diff;
                }
            }

            function endDrag() {
                isDragging = false;
                wrapper.classList.remove('grabbing');
            }

            // Handle Resize to recalculate width
            window.addEventListener('resize', calculateWidth);
        }

    });
</script>

{% endblock %}
